# Документация к серверу

## Аутентификация

Перед использованием приложения, необходимо авторизоваться. Без авторизации не будут работать никакие роуты, кроме /login

Авторизация производится POST запросом по роуту /login, в запросе необходимо отправить JSON такого типа:

```json
{"ld": {данные для логина}}
```

Если логин успешен, вернётся ответ с токеном, который нужно будет использовать для дальнейших запросов

```json
{ "status": 1, "token": { jwtToken } }
```

---

## SocketIO

Соединение с socketIo может быть выполнено только после авторизации. Для успешного соединения после эвента 'connect' надо послать запрос аутентификации в котором отправляется токен, полученный в шаге авторизации

```js
socket.on('connect', ()=> {
      socket.emit('authenticate', { token: token }).on('authenticated', ()=> {
        //Здесь выполняются все эмиты и обработки эвентов
        })
      })
    })
```

---

## Роуты

Здесь приведён список роутов, реализация которых на данный момент сделана

1. `/getconversations` выводит список диалогов
2. ывввв
